
var abi =[{"inputs":[],"name":"getInfoAccesso","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMedia","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNumAccessi","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"host","type":"string"}],"name":"insertAccesso","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint8","name":"nuovoVoto","type":"uint8"}],"name":"insertVoto","outputs":[],"stateMutability":"nonpayable","type":"function"}]
var addressContract = "0xCA0d3917a10115507671f5C6064BfFFB388Ea51D";
var bin = "608060405234801561001057600080fd5b50610b23806100206000396000f3fe60806040526004361061004a5760003560e01c80631904c3a51461004f57806336c0adec146100805780634307199e146100a2578063b707b6dd146100b7578063c35cea87146100d9575b600080fd5b34801561005b57600080fd5b50336000908152602081905260409020545b6040519081526020015b60405180910390f35b34801561008c57600080fd5b506100a061009b3660046106bf565b6100ec565b005b3480156100ae57600080fd5b5061006d61022c565b3480156100c357600080fd5b506100cc61024c565b604051610077919061070d565b6100a06100e7366004610756565b610442565b60018160ff1610156101455760405162461bcd60e51b815260206004820152601960248201527f20496c20766f746f2065272074726f70706f20626173736f200000000000000060448201526064015b60405180910390fd5b60058160ff1611156101995760405162461bcd60e51b815260206004820152601860248201527f494c20766f746f206527206d616767696f726520646920350000000000000000604482015260640161013c565b3360009081526003602052604090205460ff16156101e557600154336000908152600360205260409020546101dd916101d49160ff166104e3565b8260ff166104f8565b600155610209565b6101f46001548260ff166104f8565b6001908155600254610205916104f8565b6002555b336000908152600360205260409020805460ff191660ff92909216919091179055565b600061024761023f6103e8600154610504565b600254610510565b905090565b336000908152602081905260409020546060906102a45760405162461bcd60e51b81526020600482015260166024820152756e657373756e206163636573736f2074726f7661746f60501b604482015260640161013c565b3360009081526020819052604081208054610382919083906102c8576102c8610807565b90600052602060002090600202016040518060400160405290816000820180546102f19061081d565b80601f016020809104026020016040519081016040528092919081815260200182805461031d9061081d565b801561036a5780601f1061033f5761010080835404028352916020019161036a565b820191906000526020600020905b81548152906001019060200180831161034d57829003601f168201915b5050505050815260200160018201548152505061051c565b6040516020016103929190610857565b60408051601f19818403018152919052905060015b3360009081526020819052604090205481101561041a57336000908152602081905260409020805483916103e591849081106102c8576102c8610807565b6040516020016103f6929190610880565b60405160208183030381529060405291508080610412906108d2565b9150506103a7565b508060405160200161042c91906108eb565b60408051601f1981840301815291905292915050565b6601c6bf526340003410156104885760405162461bcd60e51b815260206004820152600c60248201526b32b93937b91039b2b73232b960a11b604482015260640161013c565b604080518082018252828152426020808301919091523360009081528082529283208054600181018255908452922081519192839260029091029091019081906104d2908261095f565b506020820151816001015550505050565b60006104ef8284610a1f565b90505b92915050565b60006104ef8284610a32565b60006104ef8284610a45565b60006104ef8284610a5c565b606061052b8260200151610554565b825160405161053e929190602001610a7e565b6040516020818303038152906040529050919050565b60606000610561836105e7565b600101905060008167ffffffffffffffff81111561058157610581610740565b6040519080825280601f01601f1916602001820160405280156105ab576020820181803683370190505b5090508181016020015b600019016f181899199a1a9b1b9c1cb0b131b232b360811b600a86061a8153600a85049450846105b557509392505050565b60008072184f03e93ff9f4daa797ed6e38ed64bf6a1f0160401b83106106265772184f03e93ff9f4daa797ed6e38ed64bf6a1f0160401b830492506040015b6d04ee2d6d415b85acef81000000008310610652576d04ee2d6d415b85acef8100000000830492506020015b662386f26fc10000831061067057662386f26fc10000830492506010015b6305f5e1008310610688576305f5e100830492506008015b612710831061069c57612710830492506004015b606483106106ae576064830492506002015b600a83106104f25760010192915050565b6000602082840312156106d157600080fd5b813560ff811681146106e257600080fd5b9392505050565b60005b838110156107045781810151838201526020016106ec565b50506000910152565b602081526000825180602084015261072c8160408501602087016106e9565b601f01601f19169190910160400192915050565b634e487b7160e01b600052604160045260246000fd5b60006020828403121561076857600080fd5b813567ffffffffffffffff8082111561078057600080fd5b818401915084601f83011261079457600080fd5b8135818111156107a6576107a6610740565b604051601f8201601f19908116603f011681019083821181831017156107ce576107ce610740565b816040528281528760208487010111156107e757600080fd5b826020860160208301376000928101602001929092525095945050505050565b634e487b7160e01b600052603260045260246000fd5b600181811c9082168061083157607f821691505b60208210810361085157634e487b7160e01b600052602260045260246000fd5b50919050565b605b60f81b8152600082516108738160018501602087016106e9565b9190910160010192915050565b600083516108928184602088016106e9565b600b60fa1b90830190815283516108b08160018401602088016106e9565b01600101949350505050565b634e487b7160e01b600052601160045260246000fd5b6000600182016108e4576108e46108bc565b5060010190565b600082516108fd8184602087016106e9565b605d60f81b920191825250600101919050565b601f82111561095a57600081815260208120601f850160051c810160208610156109375750805b601f850160051c820191505b8181101561095657828155600101610943565b5050505b505050565b815167ffffffffffffffff81111561097957610979610740565b61098d81610987845461081d565b84610910565b602080601f8311600181146109c257600084156109aa5750858301515b600019600386901b1c1916600185901b178555610956565b600085815260208120601f198616915b828110156109f1578886015182559484019460019091019084016109d2565b5085821015610a0f5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b818103818111156104f2576104f26108bc565b808201808211156104f2576104f26108bc565b80820281158282048414176104f2576104f26108bc565b600082610a7957634e487b7160e01b600052601260045260246000fd5b500490565b6c3d9137b930a637b3b4b7111d1160991b81528251600090610aa781600d8501602088016106e9565b6a111610113437b9ba111d1160a91b600d918401918201528351610ad28160188401602088016106e9565b61227d60f01b60189290910191820152601a0194935050505056fea2646970667358221220014f00d51a4a22a859c6ad4ad125827b798d4b8b2da15ae6ec67497b17af27f464736f6c63430008120033"
var web3 = new Web3(window.ethereum);
web3.setProvider(window.ethereum)

console.log("dati contratto caricati")
/*
if(typeof account !== 'undefined') {
    var myContract = createContract()
    console.log("anche mycontract")
}

function createContract(){
    console.log("creazione contract")
    return new web3.eth.Contract(abi, addressContract, {from: account, gasPrice:'2000000', gas:1000000, data:bin})
}
*/